<!DOCTYPE html>
<html>
<head>
    <meta name="generator" content="HTML Tidy for HTML5 for Apple macOS version 5.6.0">
    <title>device light</title>
    <style type="text/css">
    	body {
    		min-height: 100vh;
    	}
    	body.darklight{
    		background-color: black;
    	}
    	body.brightlight{
    		background-color: white;
    	}
    </style>
</head>
<body>
	<h2 style="color: white;">darklight</h2>
	<h2 style="color: black;">brightlight</h2>

    <textarea id="printer" style="width: 100%;height: 200px;"></textarea> 

    <script type="text/javascript">

	    function print(str) {
            document.querySelector('#printer').innerHTML += '\n' + str;
	    }

	    if ('ondevicelight' in window) {
            print('devicelight supported!')
			window.addEventListener('devicelight', function(event) {
				var body = document.querySelector('body');
				if (event.value < 50) {
				  body.classList.add('darklight');
				  body.classList.remove('brightlight');
				} else {
				  body.classList.add('brightlight');
				  body.classList.remove('darklight');
				}
			});
	    } else {
	      print('devicelight event not supported');
	    }
    </script>
</body>
</html>
